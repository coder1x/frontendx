$tile-background: #adadad;
$tile-background-gradient: linear-gradient(
  165deg,
  rgba(173, 173, 173, 1) 7%,
  rgba(63, 63, 63, 1) 44%,
  rgba(57, 57, 57, 1) 99%
);
$tile-border: #2a2a2a;
$tile-border-top: #c3c3c3;
$cub-left-background: #3a3a3a;
$cub-left-border: $color-black;
$cub-left-shadow: #222222;
$cub-right-background: $color-background;
$cub-right-border: $color-black;
$cub-right-shadow: #222222;
$blind-border: $color-black;
$blind-shadow: #222222;
$blind-background: #adadad;
$blind-background-gradient: linear-gradient(
  165deg,
  rgba(173, 173, 173, 1) 0%,
  rgba(230, 230, 230, 1) 41%,
  rgba(106, 106, 106, 1) 100%
);
$blind-text-color: #363636;
$blind-text-shadow: 1px 1px 2px #fff, 0 0 1em #fff;
$cover-border: #353535;
$cover-background: $color-background;
$cover-background-gradient: linear-gradient(to top, #b9b9b9 1px, transparent 0px);
$cover-shadow: #222222;
$window-background: #656565;
$link-color: $color-dark-grey;
$link-focus-color: #6d6d6d;
$link-outline: 4px solid $color-dark-grey;
$text-color: $color-dark-grey;
$window-disk-background: #fcfcfc;
$disk-background: #2c2c2c;

.category-tile {
  width: 285px;
  height: 295px;
  background: $tile-background;
  background: $tile-background-gradient;
  display: flex;
  flex-direction: column;
  position: relative;

  border-top-right-radius: 12px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;

  border-bottom: 2px solid $tile-border;
  border-left: 2px solid $tile-border;
  border-right: 1px solid $tile-border;
  border-top: 1px solid $tile-border-top;
  box-sizing: border-box;

  &__cub-left {
    position: absolute;
    width: 14px;
    height: 12px;
    background-color: $cub-left-background;
    bottom: 10px;
    left: 5px;
    border: 1px solid $cub-left-border;
    box-shadow: inset 1px 1px 2px 0px $cub-left-shadow;
  }

  &__cub-right {
    position: absolute;
    width: 14px;
    height: 12px;
    background-color: $cub-right-background;
    border: 1px solid $cub-right-border;
    bottom: 10px;
    right: 5px;
    box-shadow: inset 1px 1px 2px 0px $cub-right-shadow;
  }

  &__blind-wrapper {
    position: relative;
    width: 195px;
    height: 98px;
    border-left: 1px solid $blind-border;
    border-right: 1px solid $blind-border;
    border-bottom: 1px solid $blind-border;
    box-shadow: inset 1px -1px 3px 0px $blind-shadow;
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
    margin-left: 27px;
  }

  &__blind {
    position: absolute;
    width: 150px;
    height: 98px;
    background: $blind-background;
    background: $blind-background-gradient;
    right: 0;
    top: -3px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;

    transform: translateX(-2px);
    transition: transform 0.2s ease-in-out;

    &_open {
      transform: translateX(-42px);
      transition: transform 0.4s ease-in-out;
    }
  }

  &__blind-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 5px;
    color: $blind-text-color;
    height: 100%;
    @include font-rem(16);
    box-sizing: border-box;
    text-transform: uppercase;
    font-family: $font-code;
    text-shadow: $blind-text-shadow;
  }

  &__window {
    border-radius: 2px;
    background: $window-background;
    width: 40px;
    height: 78px;
    margin-right: 23px;
    overflow: hidden;
  }

  &__window-disk {
    background: $window-disk-background;
    width: 40px;
    height: 78px;
    position: relative;
    overflow: hidden;

    transform: translateX(-41px);
    transition: transform 0.2s ease-in-out;

    &_open {
      transform: translateX(0px);
      transition: transform 0.4s ease-in-out;
    }
  }

  &__disk {
    position: absolute;
    bottom: 0px;
    left: -59px;
    width: 157px;
    height: 71px;
    background-color: $disk-background;
    border-top-left-radius: 50%;
    border-top-right-radius: 50%;
  }

  &__cover {
    margin-top: auto;
    margin-left: 27px;
    width: 230px;
    height: 170px;
    border-top: 2px solid $cover-border;
    border-left: 2px solid $cover-border;
    border-right: 2px solid $cover-border;
    border-bottom: 6px solid $cover-border;
    padding: 5px;
    box-sizing: border-box;
    background-color: $cover-background;
    background-image: $cover-background-gradient;
    background-position: 0 28px;
    background-size: 100% 22px;
    box-shadow: inset 0px 2px 7px -1px $cover-shadow;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
  }

  &__header {
    text-align: center;
    line-height: 23px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  &__link {
    color: $link-color;

    &::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }

    &:hover,
    &:focus {
      color: $link-focus-color;
    }

    &:focus {
      outline: $link-outline;
      outline-offset: 2px;
    }
  }

  &__text {
    @include font-rem(15);
    color: $text-color;
    line-height: 1.4;
    font-family: $font;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
